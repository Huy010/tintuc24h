if("undefined"==typeof get_location_base_url){}if("undefined"==typeof send_ga_gtag){}function user_get_submit_domain(){return"undefined"!=typeof window.location.hostname&&["test.24h.com.vn","beta.24h.com.vn"].includes(window.location.hostname)?window.location.origin:"https://www.24h.com.vn"}function user_show_login_guide(){if(!document.getElementById("header-24h-login-guide"))return!1;var a=getCookie("userIsCloseLoginGuide");return"1"!=a&&void document.getElementById("header-24h-login-guide").classList.remove("d-none")}function user_hide_login_guide(){setCookie("userIsCloseLoginGuide","1",1*.5,"/","24h.com.vn",""),document.getElementById("header-24h-login-guide").classList.add("d-none")}function user_check_login_status(a,b){a="undefined"!=typeof a&&a,b="string"==typeof b?b.trim():"";var c=getCookie("userLoginData");if(!c)return a||user_show_login_guide(),!1;if(!a||""!=b){var d={only_check:a?1:0,callback:b},e=get_location_base_url();$.ajax({url:e+"/ajax/user/user_check_login_status",type:"POST",data:d,success:function(a){if("string"==typeof a){if(!document.getElementById("header-24h-login-ajax")){let a=document.createElement("div");a.id="header-24h-login-ajax",a.className="d-none",document.getElementsByTagName("body")[0].appendChild(a)}$("#header-24h-login-ajax").html(a)}}})}return!0}function user_show_info(a){return!!document.getElementById("header-24h-login-cont")&&!!a&&void("undefined"==typeof userLoginHtml&&(userLoginHtml=document.getElementById("header-24h-login-cont").innerHTML),document.getElementById("header-24h-login-cont").innerHTML=a)}function user_show_login_popup(a){if(!document.getElementById("div_show_ajax_user_login")){let a=document.createElement("div");a.id="div_show_ajax_user_login",document.getElementsByTagName("body")[0].appendChild(a)}document.getElementById("div_show_ajax_user_login").classList.remove("d-none"),a="string"==typeof a?a.trim():"";var b={callback:a},c=get_location_base_url();$.ajax({url:c+"/ajax/user/index/1/0/0",type:"POST",data:b,success:function(a){"string"!=typeof a||$("#div_show_ajax_user_login").html(a)}})}function user_hide_login_popup(){document.getElementById("div_show_ajax_user_login")&&(document.getElementById("div_show_ajax_user_login").classList.add("d-none"),"function"==typeof user_run_after_hide_login_popup&&user_run_after_hide_login_popup())}function user_show_login_submenu(){var a=document.getElementById("header-24h-login-submenu");if(a){if(a.classList.contains("show"))return void user_hide_login_submenu();var b=a.getAttribute("trigger-outside-click");("undefined"==typeof b||1!=b)&&(a.setAttribute("trigger-outside-click",1),document.getElementsByTagName("body")[0].addEventListener("mousedown",function(a){!a.target||a.target.closest(".header-24h-login")||user_hide_login_submenu()})),a.classList.add("show");var c=get_location_base_url();$.ajax({url:c+"/ajax/user/user_submenu__header",type:"POST",success:function(a){"string"!=typeof a||$("#header-24h-login-submenu").html(a)}})}}function user_hide_login_submenu(){var a=document.getElementById("header-24h-login-submenu");a&&a.classList.remove("show")}function user_run_after_login(a){if("function"==typeof user_update_news_submit_queue&&user_update_news_submit_queue(),"function"==typeof user_check_news_saved&&user_check_news_saved(),"function"==typeof user_run_after_login__by_page&&user_run_after_login__by_page(),"object"==typeof a&&"string"==typeof a.userLoginCallback){var b=a.userLoginCallback.trim();if(""!=b&&"function"==typeof window[b]){var c="object"==typeof a.callback_userLoginData?a.callback_userLoginData:{};window[b](c)}}}function user_logout(){var a=get_location_base_url();$.ajax({url:a+"/ajax/user/logout",type:"POST",success:function(){setCookie("userLoginData","",.1,"/","24h.com.vn","",!0),setCookie("userIsCloseLoginGuide","",.1,"/","24h.com.vn",""),user_hide_login_submenu(),"undefined"==typeof userLoginHtml?location.reload():(document.getElementById("header-24h-login-cont").innerHTML=userLoginHtml,"function"==typeof user_remove_news_saved_sign&&user_remove_news_saved_sign(),user_check_login_status(),"function"==typeof user_run_after_logout__by_page&&user_run_after_logout__by_page())}})}function user_show_login_error(a){document.getElementById("div_show_ajax_user_login")&&0!=document.getElementsByClassName("box-login-error").length&&(document.getElementsByClassName("box-login-error")[0].textContent=a)}function user_show_login_window(a,b,c,d){if(""==a)return!1;try{var e=new URL(a)}catch(a){return!1}if(!["/ajax/user/google_login","/ajax/user/facebook_login","/ajax/user/zalo_login"].some(a=>e.pathname.startsWith(a)))return!1;if("undefined"!=typeof clientId_ga4&&""!=clientId_ga4){let b=new URLSearchParams(e.search);b.set("clientId_ga4",clientId_ga4),e.search=b.toString(),a=e.toString()}var f=window.screen.width,g=window.screen.height;return window.open(a,b,"status=no,height="+d+",width="+c+",resizable=yes,left="+(f-c)/2+",top="+(g-d)/2+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no")}function user_login_popup_send_back_message(a,b){var c={web_type:"24h-user-login",action:a,params:b};if(c=JSON.stringify(c),"undefined"!=typeof window.opener&&window.opener)window.opener.postMessage(c,"*");else{var d=!1;if("undefined"!=typeof Storage)try{localStorage.setItem("userSendbackAfterLogin",c),d=!0}catch(a){}d||setCookie("userReloadAfterLogin","reload-after-login",.5,"/","24h.com.vn","",!0)}}function user_message_handle(a){if(["https://24h.com.vn","https://www.24h.com.vn","https://kpt.24h.com.vn","https://beta.24h.com.vn","https://test.24h.com.vn"].includes(a.origin)&&a.data&&"string"==typeof a.data){try{var b=JSON.parse(a.data)}catch(a){return}if(b.action&&"string"==typeof b.action&&b.web_type&&"24h-user-login"==b.web_type){if("string"==typeof b.params)try{b.params=JSON.parse(b.params)}catch(a){console.log("JSON.parse --> error",a,b.params),b.params=[]}"undefined"==typeof b.params&&(b.params=[]);var c=b.action.split(",");for(let a=0;a<c.length;a++)switch(c[a]){case"show_login_error":user_show_login_error(b.params.message);break;case"show_user_info":if("undefined"==typeof b.params.userLoginData||""==b.params.userLoginData||"undefined"==typeof b.params.userInfoHtml||""==b.params.userInfoHtml)break;var d="undefined"==typeof b.params.session_hour?1:parseFloat(b.params.session_hour);(isNaN(d)||0>=d)&&(d=1),setCookie("userLoginData",JSON.stringify(b.params.userLoginData),d,"/","24h.com.vn","",!0),user_show_info(atob(b.params.userInfoHtml));break;case"hide_login_popup":user_hide_login_popup();break;case"user_run_after_login":user_run_after_login(b.params);break;case"user_show_popup_social_link_result":"function"==typeof user_show_popup_social_link_result&&user_show_popup_social_link_result(b.params);}}}}function user_create_message_listener(){window.addEventListener?addEventListener("message",user_message_handle,!1):attachEvent("onmessage",user_message_handle)}function user_focus_handle(){if(!document.getElementById("div_show_ajax_user_login")||document.getElementById("div_show_ajax_user_login").classList.contains("d-none"))return!1;if("undefined"!=typeof Storage)try{var a=localStorage.getItem("userSendbackAfterLogin");if("string"==typeof a&&""!=a)return localStorage.removeItem("userSendbackAfterLogin"),window.postMessage(a,"*"),!0}catch(a){}var b=getCookie("userReloadAfterLogin");return"string"==typeof b&&"reload-after-login"==b&&(setCookie("userReloadAfterLogin","",.1,"/","24h.com.vn","",!0),location.reload()),!1}function user_create_focus_listener(){window.addEventListener?addEventListener("focus",user_focus_handle,!1):attachEvent("focus",user_focus_handle)}user_create_focus_listener();function user_submit_account_info__flexible(a,b){if(b="string"==typeof b?b:"","object"!=typeof a)return""!=b&&"function"==typeof window[b]&&window[b]([!1,"C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i",{}]),[!1,"C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i",{}];if("function"!=typeof user_check_login_status||!user_check_login_status(!0))return"function"==typeof user_show_login_popup&&user_show_login_popup(),""!=b&&"function"==typeof window[b]&&window[b]([!1,"Ch\u01B0a \u0111\u0103ng nh\u1EADp h\u1EC7 th\u1ED1ng 24H",{}]),[!1,"Ch\u01B0a \u0111\u0103ng nh\u1EADp h\u1EC7 th\u1ED1ng 24H",{}];var c={txt_name:["undefined"!=typeof a.txt_name,0,255,"H\u1ECD v\xE0 t\xEAn"],txt_email:["undefined"!=typeof a.txt_email,0,255,"Email"],txt_tel:[!1,0,20,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"],txt_date_of_birth:[!1,0,20,"Ng\xE0y sinh"],txt_address:[!1,0,255,"\u0110\u1ECBa ch\u1EC9"],rad_sex:[!1,0,0,"Gi\u1EDBi t\xEDnh"]},d={},e=!1,f=0;for(let j in c)if("undefined"!=typeof a[j]){++f;var g=a[j],h=c[j],i="";h[0]&&("undefined"==typeof g||""==g)?i="Vui l\xF2ng nh\u1EADp th\xF4ng tin "+h[3]:0<h[1]&&g.length<h[1]?i="\u0110\u1ED9 d\xE0i t\u1ED1i thi\u1EC3u "+h[1]:0<h[2]&&g.length>h[2]&&(i="\u0110\u1ED9 d\xE0i t\u1ED1i \u0111a "+h[2]),""!=i&&(e=!0,d[j]=i)}if(0==f)return""!=b&&"function"==typeof window[b]&&window[b]([!1,"C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i",{}]),[!1,"C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i",{}];if(e)return""!=b&&"function"==typeof window[b]&&window[b]([!1,"C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i",d]),[!1,"C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i",d];var j=user_get_submit_domain();$.ajax({url:j+"/ajax/user_api/act_update_account_info__flexible",type:"POST",data:a,success:function(c){var d={};if("object"==typeof c)d=c;else if("string"==typeof c)try{d=JSON.parse(c)}catch(a){}var e="object"==typeof d?Object.keys(d).length:0;if(0==e||"undefined"==typeof d.error)return console.log("user_submit_account_info__flexible","L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh",a),void(""!=b&&"function"==typeof window[b]&&window[b]([!1,"C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i - L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh",{}]));var f="";"undefined"!=typeof d.message&&""!=d.message?f=d.message:"undefined"!=typeof d.code&&""!=d.code&&(f=d.code),1==d.error&&"undefined"!=typeof d.code&&""!=d.code&&"not_logged_in"==d.code&&"function"==typeof user_show_login_popup&&user_show_login_popup(),""!=b&&"function"==typeof window[b]&&window[b]([1!=d.error,f,"object"==typeof d.key_errors?d.key_errors:{}])},error:function(c,d,e){console.log("user_submit_account_info__flexible","L\u1ED7i ajax",a,c,d,e),""!=b&&"function"==typeof window[b]&&window[b]([!1,"C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i - L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh",{}])}})}